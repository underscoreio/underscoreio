<!DOCTYPE html>
<html lang="en" id="/blog/posts/2018/12/12/bridges" class="">
  
  
  <head>
    <title>Bridging Scala and the Front-End - Underscore</title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link type="text/css" rel="stylesheet" href="/assets/screen-9132d4f189ef656eb3d1e8defedf7c83e32e9240d9a3af3d804d36f850e43dd5.css">
    <link type="text/css" rel="stylesheet" href="/assets/print-dd04f6182ddcf193d2ac9f59bdbdbb366e01738f8a32086ffb82c7be2f9e1eb8.css" media="print">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@underscoreio">
    
      <meta name="twitter:title" content="Bridging Scala and the Front-End">
    
    
      <meta name="twitter:description" content="In this blog post we will talk about Bridges, a simple library that generates front-end code from your Scala ADTs and reduces the friction of changing your data model. We will present the project, show how to use it, and list some common traps to avoid when creating your ADTs. We will also showcase some advanced features for projects using Scala and Elm.

">
    
    
      <meta name="twitter:image" content="http://underscore.io/images/twitter-card-icon.png">
    

    <link rel="shortcut icon" href="/images/favicon-64.png">
    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/blog/feed.xml">

    <link rel="canonical" href="http://underscore.io/blog/posts/2018/12/12/bridges.html">

    <script type="text/javascript" src="/assets/site-5ab8e41df06f32ccfbf4c40fdf2d7fc81c360b991aa5c153ed01fd0714c019d4.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/"><span class="icon-uio-underscore "></span></a>
    </div>

    <div class="navbar-collapse">
      <ul class="nav navbar-nav navbar-right visible-md visible-lg">
        <li class="divider"></li>
        <li class="social"><a href="http://twitter.com/underscoreio"><span class="icon-uio-twitter "></span><span class="sr-only">Twitter</span></a></li>
        <li class="social"><a href="/contact"><span class="icon-uio-envelope "></span><span class="sr-only">Email</span></a></li>
      </ul>

      <ul class="nav navbar-nav navbar-right">
        <li class="visible-xs "><a href="/">Home</a></li>
        <li class=""><a href="/development">Development</a></li>
        <li class=""><a href="/consulting">Consulting</a></li>
        <li class=""><a href="/training">Training</a></li>
        <!-- li class=""><a href="/books">Books</a></li -->
        <li class=""><a href="/company">Company</a></li>
      </ul>
    </div>
  </div>
</nav>


<div class="hero">
  <div class="overlay-gem-left-white hero-overlay-soft"></div>
  <div class="overlay-gem-right-white hero-overlay-soft"></div>
  <div class="overlay-arrow-white-inverse"></div>

  <nav class="navbar navbar-inverse" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/"><span class="icon-uio-underscore "></span></a>
    </div>

    <div class="navbar-collapse">
      <ul class="nav navbar-nav navbar-right visible-md visible-lg">
        <li class="divider"></li>
        <li class="social"><a href="http://twitter.com/underscoreio"><span class="icon-uio-twitter "></span><span class="sr-only">Twitter</span></a></li>
        <li class="social"><a href="/contact"><span class="icon-uio-envelope "></span><span class="sr-only">Email</span></a></li>
      </ul>

      <ul class="nav navbar-nav navbar-right">
        <li class="visible-xs "><a href="/">Home</a></li>
        <li class=""><a href="/development">Development</a></li>
        <li class=""><a href="/consulting">Consulting</a></li>
        <li class=""><a href="/training">Training</a></li>
        <!-- li class=""><a href="/books">Books</a></li -->
        <li class=""><a href="/company">Company</a></li>
      </ul>
    </div>
  </div>
</nav>


  <header class="hero-text">
    <div class="container">
      
        <h1>
          <a class="back-link" href="/blog">
            Blog
            <span class="icon-uio-back "></span>
          </a>
        </h1>
      

      
    </div>
  </header>
</div>


<section class="container">
  <div class="row">
    <div class="col-md-8">
      <section class="blog-post" data-post-url="/blog/posts/2018/12/12/bridges.html">
        <h2 class="blog-post-title">Bridging Scala and the Front-End</h2>

        <dl class="blog-post-meta">
  <dt class="blog-post-date">Posted</dt>
  <dd class="blog-post-date">
    <span class="day">12</span>
    <span class="month">Dec</span>
    <span class="year">2018</span>
  </dd>
  <dt class="blog-post-author">by</dt>
  <dd class="blog-post-author">
    Pere Villega
  </dd>
  
</dl>


        <article class="blog-post-content">
          <p>In this blog post we will talk about <a href="https://github.com/davegurnell/bridges">Bridges</a>, a simple library that generates front-end code from your Scala ADTs and reduces the friction of changing your data model. We will present the project, show how to use it, and list some common traps to avoid when creating your ADTs. We will also showcase some advanced features for projects using Scala and <a href="http://elm-lang.org">Elm</a>.</p>

<!-- break -->

<p>When developing a web-based application (or any application with separate back- and front-end codebases), changes to the back-end model often cause a cascade of manual changes on the forward layers. We need to modify the corresponding data types in the front-end, and also utilities such as encoders and decoders for JSON and URL parameters. The industry has developed solutions as <a href="https://developers.google.com/protocol-buffers/">Protocol Buffers</a> to tackle this problem, and one of the main features people like about <a href="http://www.scala-js.org">Scala.js</a> is being able to reuse your back-end model in the front-end.</p>

<p>But we can’t always use <a href="http://www.scala-js.org">Scala.js</a>, and sometimes we may just want something simpler than <a href="https://developers.google.com/protocol-buffers/">Protocol Buffers</a>. Ideally we want a lightweight tool that keeps our front-end in sync with our back-end data model, without having to use a 3rd intermediate language to define them.</p>

<p>We propose <a href="https://github.com/davegurnell/bridges">Bridges</a> as a solution for this issue. Bridges is in the early stages of development, but is already being used in production at Underscore in codebases front-ends written in <a href="http://elm-lang.org">Elm</a> and <a href="https://flow.org">Flow</a>.</p>

<h1 id="introducing-bridges">Introducing Bridges</h1>

<p><a href="https://github.com/davegurnell/bridges">Bridges</a> is, at its core, a simple library: it uses <a href="https://github.com/milessabin/shapeless">shapeless</a> to translate our ADTs into an intermediate language. Then we can use that language to generate valid representations of those ADTs in the front-end.</p>

<p>The advantage of using an intermediate representation is that Bridges can generate output for multiple front-end languages. Currently there is support for <a href="http://www.typescriptlang.org">Typescript</a>, <a href="https://flow.org">Flow</a>, and <a href="http://elm-lang.org">Elm</a>, but that can be easily extended for other languages.</p>

<p>The main difference with other tools like <a href="https://developers.google.com/protocol-buffers/">Protocol Buffers</a> is that the intermediate model is automatically derived at compile time. We are writing code in Scala and obtaining the front-end representation automatically, so any change to our Scala ADT is automatically picked up by the type-checker for our front-end codebase.</p>

<h1 id="bridges-intermediate-language">Bridges intermediate language</h1>

<p>Bridges intermediate language tries to directly represent a Scala ADT using another ADT. At the core we have two types:</p>

<p>The type <code class="language-plaintext highlighter-rouge">DeclF[A]</code> represents a named declaration, that is the representation of a type along its name. This named declaration can be used as a top level element, or as a field when defining a Product or Sum for the representation of an ADT.</p>

<p>The type <code class="language-plaintext highlighter-rouge">Type</code> maps elements found in a Scala ADT. We have a definition for <code class="language-plaintext highlighter-rouge">Prod</code> (Product) and <code class="language-plaintext highlighter-rouge">Sum</code>, as well as definitions for basic types in Scala. We also use the special type <code class="language-plaintext highlighter-rouge">Ref</code> to represent types defined by the user.</p>

<p>The definitions for both types follow:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">final</span> <span class="k">case</span> <span class="k">class</span> <span class="nc">DeclF</span><span class="o">[</span><span class="kt">+A</span><span class="o">](</span><span class="n">name</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">tpe</span><span class="k">:</span> <span class="kt">A</span><span class="o">)</span>

<span class="k">sealed</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">Type</span> <span class="k">extends</span> <span class="nc">Product</span> <span class="k">with</span> <span class="nc">Serializable</span>
<span class="k">final</span> <span class="k">case</span> <span class="k">class</span> <span class="nc">Prod</span><span class="o">(</span><span class="n">fields</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Decl</span><span class="o">])</span>      <span class="k">extends</span> <span class="nc">Type</span>
<span class="k">final</span> <span class="k">case</span> <span class="k">class</span> <span class="nc">Sum</span><span class="o">(</span><span class="n">products</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">ProdDecl</span><span class="o">])</span> <span class="k">extends</span> <span class="nc">Type</span>
<span class="k">final</span> <span class="k">case</span> <span class="k">class</span> <span class="nc">Ref</span><span class="o">(</span><span class="n">id</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span>               <span class="k">extends</span> <span class="nc">Type</span>
<span class="k">final</span> <span class="k">case</span> <span class="k">object</span> <span class="nc">Str</span>                          <span class="k">extends</span> <span class="nc">Type</span>
<span class="c1">// and others...</span>
</code></pre></div></div>

<p>With these definitions we can transform a given case class into a corresponding <code class="language-plaintext highlighter-rouge">Type</code> structure:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">case</span> <span class="k">class</span> <span class="nc">Value</span><span class="o">(</span><span class="n">value</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">AnyVal</span>

<span class="nc">DeclF</span><span class="o">(</span><span class="s">"Value"</span><span class="o">,</span> <span class="nc">Str</span><span class="o">)</span>

<span class="c1">// second example</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Pair</span><span class="o">(</span><span class="n">a</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">b</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span>

<span class="nc">DeclF</span><span class="o">(</span><span class="s">"Pair"</span><span class="o">,</span> <span class="nc">Prod</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span>
          <span class="nc">DeclF</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span> <span class="nc">Str</span><span class="o">),</span>
          <span class="nc">DeclF</span><span class="o">(</span><span class="s">"b"</span><span class="o">,</span> <span class="nc">Intr</span><span class="o">)</span>
        <span class="o">)))</span>
</code></pre></div></div>

<h1 id="declf-and-multiple-target-languages">DeclF and multiple target languages</h1>

<p>Note that <code class="language-plaintext highlighter-rouge">DeclF</code> (defined in the previous section) is parameterised by <code class="language-plaintext highlighter-rouge">A</code>. By default <code class="language-plaintext highlighter-rouge">A</code> is <code class="language-plaintext highlighter-rouge">Type</code>, as in</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span> <span class="kt">Decl</span> <span class="o">=</span> <span class="nc">DeclF</span><span class="o">[</span><span class="kt">Type</span><span class="o">]</span>
</code></pre></div></div>

<p>but this representation allows us to swap the <code class="language-plaintext highlighter-rouge">Type</code> representation used by our intermediate language, if needed. This is a requirement that has been added as Bridges started targeting several languages with different capabilities.</p>

<p>Currently Bridges is targeting 3 languages: <code class="language-plaintext highlighter-rouge">Elm</code>, <code class="language-plaintext highlighter-rouge">Typescript</code> and <code class="language-plaintext highlighter-rouge">Flow</code>. <code class="language-plaintext highlighter-rouge">Elm</code> has a Haskell-like syntax that matches perfectly the intermediate language we described in the previous section. But <code class="language-plaintext highlighter-rouge">Flow</code>, for example, differentiates between <code class="language-plaintext highlighter-rouge">union types</code>, <code class="language-plaintext highlighter-rouge">intersection types</code>, and <code class="language-plaintext highlighter-rouge">structs</code>. This doesn’t map in a straightforward way to our ADT <code class="language-plaintext highlighter-rouge">Products</code> and <code class="language-plaintext highlighter-rouge">Sums</code>.</p>

<p>Solving this mismatch between the target languages was creating friction in the intermediate language, thus the solution to add <code class="language-plaintext highlighter-rouge">A</code> to <code class="language-plaintext highlighter-rouge">DeclF</code>: if your language may need to cover special cases, you can create your own intermediate language and use it, so your resulting code matches expectations.</p>

<h1 id="from-intermediate-to-final-representation">From intermediate to final representation</h1>

<p>Once we have our <code class="language-plaintext highlighter-rouge">DeclF</code> representing the <code class="language-plaintext highlighter-rouge">Scala</code> code to translate, we need a way to obtain a <code class="language-plaintext highlighter-rouge">String</code> with the syntax for the target language. This is achieved via the <code class="language-plaintext highlighter-rouge">Renderer[A]</code> trait and its various implementations. <code class="language-plaintext highlighter-rouge">Renderer</code> is defined as:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">trait</span> <span class="nc">Renderer</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">def</span> <span class="nf">render</span><span class="o">(</span><span class="n">decl</span><span class="k">:</span> <span class="kt">DeclF</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span><span class="k">:</span> <span class="kt">String</span>
<span class="o">}</span>
</code></pre></div></div>

<p>and we implement one instance for each target language. For example, for <code class="language-plaintext highlighter-rouge">Elm</code> and <code class="language-plaintext highlighter-rouge">Flow</code> we have:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">ElmRenderer</span> <span class="k">extends</span> <span class="nc">Renderer</span><span class="o">[</span><span class="kt">Type</span><span class="o">]</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
<span class="k">class</span> <span class="nc">FlowRenderer</span> <span class="k">extends</span> <span class="nc">Renderer</span><span class="o">[</span><span class="kt">FlowType</span><span class="o">]</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
</code></pre></div></div>
<p>Note that while <code class="language-plaintext highlighter-rouge">Elm</code> used the default <code class="language-plaintext highlighter-rouge">Type</code> describe before, the <code class="language-plaintext highlighter-rouge">FlowRenderer</code> class uses its own <code class="language-plaintext highlighter-rouge">FlowType</code> intermediate representation to be able to define <code class="language-plaintext highlighter-rouge">intersection types</code>.</p>

<h1 id="using-bridges-with-typescript">Using Bridges with Typescript</h1>

<p>With the above, we have all the pieces we need to generate our final representations. To use Bridges in our application, we simply need to import the library using the latest version (currently <code class="language-plaintext highlighter-rouge">0.11.0</code>):</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">libraryDependencies</span> <span class="o">+=</span> <span class="s">"com.davegurnell"</span> <span class="o">%%</span> <span class="s">"bridges"</span> <span class="o">%</span> <span class="s">"0.11.0"</span>
</code></pre></div></div>

<p>Let’s see it in action with some sample ADTs:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">final</span> <span class="k">case</span> <span class="k">class</span> <span class="nc">Color</span><span class="o">(</span><span class="n">red</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">green</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">blue</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span>

<span class="k">sealed</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">Shape</span> <span class="k">extends</span> <span class="nc">Product</span> <span class="k">with</span> <span class="nc">Serializable</span>
<span class="k">final</span> <span class="k">case</span> <span class="k">class</span> <span class="nc">Circle</span><span class="o">(</span><span class="n">radius</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span> <span class="n">color</span><span class="k">:</span> <span class="kt">Color</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Shape</span>
<span class="k">final</span> <span class="k">case</span> <span class="k">class</span> <span class="nc">Rectangle</span><span class="o">(</span><span class="n">width</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span> <span class="n">height</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span> <span class="n">color</span><span class="k">:</span> <span class="kt">Color</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Shape</span>
</code></pre></div></div>

<p>We’ll start by generating the intermediate representation of <code class="language-plaintext highlighter-rouge">Color</code> for <code class="language-plaintext highlighter-rouge">Typescript</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">bridges.typescript.syntax._</span>

<span class="k">val</span> <span class="nv">declaration</span> <span class="k">=</span> <span class="n">decl</span><span class="o">[</span><span class="kt">Color</span><span class="o">]</span>
<span class="c1">// declaration: bridges.typescript.TsDecl = </span>
<span class="c1">//	  DeclF(Color,</span>
<span class="c1">//			Struct(List(DeclF(red,Intr), DeclF(green,Intr), DeclF(blue,Intr))))</span>
</code></pre></div></div>

<p>As you can see, Bridges tells us the <code class="language-plaintext highlighter-rouge">Color</code> is a structure tagged as <code class="language-plaintext highlighter-rouge">Color</code> that forms a <code class="language-plaintext highlighter-rouge">Struct</code> with three numeric fields, one per each field in our class. Note that <code class="language-plaintext highlighter-rouge">declaration</code> is of type <code class="language-plaintext highlighter-rouge">TsDecl</code> which is defined as <code class="language-plaintext highlighter-rouge">DeclF[TsType]</code> as <code class="language-plaintext highlighter-rouge">Typescript</code> requires its own intermediate language.</p>

<p>Now let’s request the <code class="language-plaintext highlighter-rouge">Typescript</code> representation of this declaration:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">bridges.typescript._</span>

<span class="nv">TsTypeRenderer</span><span class="o">.</span><span class="py">render</span><span class="o">(</span><span class="n">declaration</span><span class="o">)</span>
<span class="c1">// res0: String = export type Color = { red: number, green: number, blue: number };</span>
</code></pre></div></div>

<p>Or we can request the implementation for all our ADTs, as follows:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">bridges.typescript._</span>
<span class="k">import</span> <span class="nn">bridges.typescript.syntax._</span>

<span class="nv">TsTypeRenderer</span><span class="o">.</span><span class="py">render</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="n">decl</span><span class="o">[</span><span class="kt">Color</span><span class="o">],</span>
  <span class="n">decl</span><span class="o">[</span><span class="kt">Circle</span><span class="o">],</span>
  <span class="n">decl</span><span class="o">[</span><span class="kt">Rectangle</span><span class="o">],</span>
  <span class="n">decl</span><span class="o">[</span><span class="kt">Shape</span><span class="o">]</span>
<span class="o">))</span>
<span class="c1">// res1: String =</span>
<span class="c1">//		export type Color = { red: number, green: number, blue: number };</span>
<span class="c1">//		export type Circle = { radius: number, color: Color };</span>
<span class="c1">//		export type Rectangle = { width: number, height: number, color: Color };</span>
<span class="c1">//		export type Shape = { type: "Circle", radius: number, color: Color } | { type: "Rectangle", width: number, height: number, color: Color };</span>
</code></pre></div></div>

<p>The output of <code class="language-plaintext highlighter-rouge">render()</code> is a typical representation of an ADT in <code class="language-plaintext highlighter-rouge">Typescript</code>: a set of structural types and a tagged union based on a discriminator field called <code class="language-plaintext highlighter-rouge">type</code>.</p>

<h2 id="typescript-and-guards">Typescript and guards</h2>

<p>Having an intermediate language means that we can do more than just <code class="language-plaintext highlighter-rouge">render</code> our types in the syntax of the target language. For example, once we are running our <code class="language-plaintext highlighter-rouge">Typescript</code> code we will need to load <code class="language-plaintext highlighter-rouge">Json</code> and convert it to one of the types defined above. This is a repetitive task, as we can use Bridges to generate that code for us.</p>

<p>By creating a new trait <code class="language-plaintext highlighter-rouge">TsGuardRenderer</code> that uses <code class="language-plaintext highlighter-rouge">DeclF[TsType]</code> as inout we can generate the following:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">TsGuardRenderer</span><span class="o">.</span><span class="py">render</span><span class="o">(</span><span class="n">decl</span><span class="o">[</span><span class="kt">Color</span><span class="o">])</span>
<span class="c1">// res0: String =</span>
<span class="c1">// export function isColor(v: any): boolean {</span>
<span class="c1">//   return typeof v.red === "number" &amp;&amp; typeof v.green === "number" &amp;&amp; typeof v.blue === "number";</span>
<span class="c1">// }</span>
<span class="c1">//</span>
<span class="c1">// export function asColor(v: any): ?Color {</span>
<span class="c1">//   return isColor(v)</span>
<span class="c1">//     ? v as Color</span>
<span class="c1">//     : throw new Error("Expected Color, received " + JSON.stringify(v, null, 2));</span>
<span class="c1">// }</span>
</code></pre></div></div>

<p>The code we generated allows us to verify some <code class="language-plaintext highlighter-rouge">Json</code> is a valid <code class="language-plaintext highlighter-rouge">Color</code> by using <code class="language-plaintext highlighter-rouge">isColor</code> and, if it is, we can obtain a <code class="language-plaintext highlighter-rouge">Color</code> using <code class="language-plaintext highlighter-rouge">asColor</code>.</p>

<h1 id="bridging-scala-and-elm">Bridging Scala and Elm</h1>

<p>Instead of <code class="language-plaintext highlighter-rouge">Typescript</code> we may want the <code class="language-plaintext highlighter-rouge">Elm</code> output, which we can obtain by replacing the language type parameter:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">bridges.core.syntax._</span>
<span class="k">import</span> <span class="nn">bridges.elm._</span>

<span class="nv">Elm</span><span class="o">.</span><span class="py">render</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="n">declaration</span><span class="o">[</span><span class="kt">Color</span><span class="o">],</span>
  <span class="n">declaration</span><span class="o">[</span><span class="kt">Circle</span><span class="o">],</span>
  <span class="n">declaration</span><span class="o">[</span><span class="kt">Rectangle</span><span class="o">],</span>
  <span class="n">declaration</span><span class="o">[</span><span class="kt">Shape</span><span class="o">]</span>
<span class="o">))</span>

<span class="c1">// res2: String =</span>
<span class="c1">//   type alias Color = { red: Int, green: Int, blue: Int }</span>
<span class="c1">//</span>
<span class="c1">//   type alias Circle = { radius: Float, color: Color }</span>
<span class="c1">//</span>
<span class="c1">//   type alias Rectangle = { width: Float, height: Float, color: Color }</span>
<span class="c1">//</span>
<span class="c1">//   type Shape = Circle Float Color</span>
<span class="c1">//     | Rectangle Float Float Color</span>

</code></pre></div></div>

<p>Elm has direct language support for ADTs, which means we can use the default <code class="language-plaintext highlighter-rouge">Type</code> instead of having to create our own intermediate representation.</p>

<h2 id="generating-json-encoders-and-decoders">Generating JSON encoders and decoders</h2>

<p>For projects that use <code class="language-plaintext highlighter-rouge">Elm</code> we can also generate JSON encoders and decoders (support for <code class="language-plaintext highlighter-rouge">Typescript</code> and <code class="language-plaintext highlighter-rouge">Flow</code> codebases is coming). This means we can use these encoders and decoders in our <code class="language-plaintext highlighter-rouge">Elm</code> code, ensuring we are working with a version that matches the <code class="language-plaintext highlighter-rouge">Json</code> sent by the back-end.</p>

<p>For this functionality to work, we make a few assumptions about our data model:</p>

<ul>
  <li>
    <p>All <code class="language-plaintext highlighter-rouge">Elm</code> types generated by <code class="language-plaintext highlighter-rouge">Bridges</code> will belong to the same module;</p>
  </li>
  <li>
    <p>Our Elm project <em>must</em> include the <a href="https://github.com/NoRedInk/elm-decode-pipeline">NoRedInk/elm-decode-pipeline</a> and <a href="https://github.com/danyx23/elm-uuid">danyx23/elm-uuid</a> dependencies;</p>
  </li>
  <li>
    <p>When we encode the ADTs into Json, any <code class="language-plaintext highlighter-rouge">CoProduct</code> we generate will use a field <code class="language-plaintext highlighter-rouge">type</code> to discriminate between values. For <a href="https://circe.github.io/circe/">Circe</a> users, see <a href="https://github.com/circe/circe/pull/429">this example</a> on how to achieve this.</p>
  </li>
</ul>

<p>These assumptions mean that we can predict the shape of the decoder and generate valid Elm syntax.</p>

<p>Bridges provides two methods to generate Json encoders and decoders:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">decoder(dec: DeclF[Type])</code> will generate the decoder for our ADT;</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">encoder(dec: DeclF[Type])</code> will generate the encoder for our ADT.</p>
  </li>
</ul>

<p>Let’s see some examples, using the ADT we defined in the previous section. First let’s generate a decoder for <code class="language-plaintext highlighter-rouge">Color</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">bridges.core.syntax._</span>
<span class="k">import</span> <span class="nn">bridges.elm._</span>

<span class="nv">Elm</span><span class="o">.</span><span class="py">decoder</span><span class="o">(</span><span class="n">decl</span><span class="o">[</span><span class="kt">Color</span><span class="o">])</span>

<span class="c1">// res1: String =</span>
<span class="c1">//   decoderColor : Decode.Decoder Color</span>
<span class="c1">//   decoderColor = decode Color</span>
<span class="c1">//     |&gt; required "red" Decode.int</span>
<span class="c1">//     |&gt; required "green" Decode.int</span>
<span class="c1">//     |&gt; required "blue" Decode.int</span>
</code></pre></div></div>

<p>And let’s build the encoder for the same type:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">bridges.core.syntax._</span>
<span class="k">import</span> <span class="nn">bridges.elm._</span>

<span class="nv">Elm</span><span class="o">.</span><span class="py">encoder</span><span class="o">(</span><span class="n">decl</span><span class="o">[</span><span class="kt">Color</span><span class="o">])</span>

<span class="c1">// res1: String =</span>
<span class="c1">//   encoderColor : Color -&gt; Encode.Value</span>
<span class="c1">//   encoderColor obj = Encode.object [</span>
<span class="c1">//      ("red", Encode.int obj.red),</span>
<span class="c1">//      ("green", Encode.int obj.green),</span>
<span class="c1">//      ("blue", Encode.int obj.blue) ]</span>
</code></pre></div></div>

<p>For a more complex ADT like <code class="language-plaintext highlighter-rouge">Shape</code>, we get a more complex decoder that expects the <code class="language-plaintext highlighter-rouge">type</code> field as a discriminator:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">bridges.core.syntax._</span>
<span class="k">import</span> <span class="nn">bridges.elm._</span>

<span class="nv">Elm</span><span class="o">.</span><span class="py">encoder</span><span class="o">(</span><span class="n">decl</span><span class="o">[</span><span class="kt">Shape</span><span class="o">])</span>

<span class="c1">// res1: String =</span>
<span class="c1">//   decoderShape : Decode.Decoder Shape</span>
<span class="c1">//   decoderShape = Decode.field "type" Decode.string</span>
<span class="c1">//      |&gt; Decode.andThen decoderShapeTpe</span>
<span class="c1">//</span>
<span class="c1">//   decoderShapeTpe : String -&gt; Decode.Decoder Shape</span>
<span class="c1">//   decoderShapeTpe tpe =</span>
<span class="c1">//      case tpe of</span>
<span class="c1">//         "Circle" -&gt; decode Circle</span>
<span class="c1">//            |&gt; required "radius" Decode.float</span>
<span class="c1">//            |&gt; required "color" (Decode.lazy (\\_ -&gt; decoderColor))</span>
<span class="c1">//         "Rectangle" -&gt; decode Rectangle</span>
<span class="c1">//            |&gt; required "width" Decode.float</span>
<span class="c1">//            |&gt; required "height" Decode.float</span>
<span class="c1">//            |&gt; required "color" (Decode.lazy (\\_ -&gt; decoderColor))</span>
<span class="c1">//         "ShapeGroup" -&gt; decode ShapeGroup</span>
<span class="c1">//            |&gt; required "leftShape" (Decode.lazy (\\_ -&gt; decoderShape))</span>
<span class="c1">//            |&gt; required "rightShape" (Decode.lazy (\\_ -&gt; decoderShape))</span>
<span class="c1">//         _ -&gt; Decode.fail ("Unexpected type for Shape: " ++ tpe)</span>
</code></pre></div></div>

<p>As well as the matching encoder:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">bridges.core.syntax._</span>
<span class="k">import</span> <span class="nn">bridges.elm._</span>

<span class="nv">Elm</span><span class="o">.</span><span class="py">encoder</span><span class="o">(</span><span class="n">decl</span><span class="o">[</span><span class="kt">Shape</span><span class="o">])</span>

<span class="c1">// res1: String =</span>
<span class="c1">// encoderShape : Shape -&gt; Encode.Value</span>
<span class="c1">// encoderShape tpe =</span>
<span class="c1">//    case tpe of</span>
<span class="c1">//       Circle radius color -&gt; Encode.object [</span>
<span class="c1">//          ("radius", Encode.float radius),</span>
<span class="c1">//          ("color", encoderColor color),</span>
<span class="c1">//          ("type", Encode.string "Circle") ]</span>
<span class="c1">//       Rectangle width height color -&gt; Encode.object [</span>
<span class="c1">//          ("width", Encode.float width),</span>
<span class="c1">//          ("height", Encode.float height),</span>
<span class="c1">//          ("color", encoderColor color),</span>
<span class="c1">//          ("type", Encode.string "Rectangle") ]</span>
<span class="c1">//       ShapeGroup leftShape rightShape -&gt; Encode.object [</span>
<span class="c1">//          ("leftShape", encoderShape leftShape),</span>
<span class="c1">//          ("rightShape", encoderShape rightShape),</span>
<span class="c1">//          ("type", Encode.string "ShapeGroup") ]</span>
</code></pre></div></div>

<p>The Bridges codebase includes several examples of different ADTs along with expected output for each. Check the tests, specifically <code class="language-plaintext highlighter-rouge">ElmJsonDecoderSpec</code> and <code class="language-plaintext highlighter-rouge">ElmJsonEncoderSpec</code>, for more information.</p>

<h2 id="creating-complete-elm-modules">Creating complete Elm modules</h2>

<p>To compile the Elm code we’ve produced so far, we need we to join the fragments and add the required imports. Bridges’ Elm module provides another method to help with this:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">buildFile[L](module: String, decls: List[Declaration])</code> returns a pair of <code class="language-plaintext highlighter-rouge">Strings</code>: a file name and the contents of the file.</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">buildFile</code> uses the other methods discussed above to provide a convenient, batteries-included way of generating Elm code. Let’s see an example based on an ADT we have used on this post:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">bridges.core.syntax._</span>
<span class="k">import</span> <span class="nn">bridges.elm._</span>

<span class="nv">Elm</span><span class="o">.</span><span class="py">buildFile</span><span class="o">(</span><span class="s">"CustomModule"</span><span class="o">,</span> <span class="n">decl</span><span class="o">[</span><span class="kt">Color</span><span class="o">])</span>

<span class="c1">// res1: (String, String)</span>
<span class="c1">// res1._1: String =</span>
<span class="c1">//   Color.elm</span>
<span class="c1">//</span>
<span class="c1">// res1._2: String =</span>
<span class="c1">//   module CustomModule.Color exposing (..)</span>
<span class="c1">//</span>
<span class="c1">//   import Json.Decode as Decode</span>
<span class="c1">//   import Json.Decode.Pipeline exposing (..)</span>
<span class="c1">//   import Json.Encode as Encode</span>
<span class="c1">//</span>
<span class="c1">//   type alias Color = { red: Int, green: Int, blue: Int }</span>
<span class="c1">//</span>
<span class="c1">//   decoderColor : Decode.Decoder Color</span>
<span class="c1">//   decoderColor = decode Color</span>
<span class="c1">//      |&gt; required "red" Decode.int</span>
<span class="c1">//      |&gt; required "green" Decode.int</span>
<span class="c1">//      |&gt; required "blue" Decode.int</span>
<span class="c1">//</span>
<span class="c1">//   encoderColor : Color -&gt; Encode.Value</span>
<span class="c1">//   encoderColor obj = Encode.object [</span>
<span class="c1">//      ("red", Encode.int obj.red),</span>
<span class="c1">//      ("green", Encode.int obj.green),</span>
<span class="c1">//      ("blue", Encode.int obj.blue) ]</span>
</code></pre></div></div>

<p>You can use the filename and content from <code class="language-plaintext highlighter-rouge">buildFile</code> to create an Elm source file at a relevant location as part of your build pipeline.</p>

<h1 id="gotchas">Gotchas</h1>

<p>Here are a few problems and workarounds you may encounter using Bridges:</p>

<h2 id="overriding-definitions-for-specific-types">Overriding definitions for specific types</h2>

<p>Sometimes, a case class in the back-end may include a type that we don’t want to derive in the front-end.
For example, we may have a custom data type <code class="language-plaintext highlighter-rouge">Foo</code> on the back-end that we want to represent with a simple type like <code class="language-plaintext highlighter-rouge">Int</code> in the UI.</p>

<p>We can modify the way values are translated to the intermediate language using implicits.
For this example, we would add the following to our code generator:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">implicit</span> <span class="k">val</span> <span class="nv">fooEncoder</span><span class="k">:</span> <span class="kt">BasicEncoder</span><span class="o">[</span><span class="kt">Foo</span><span class="o">]</span> <span class="k">=</span>
  <span class="nv">Encoder</span><span class="o">.</span><span class="py">pure</span><span class="o">(</span><span class="nc">Num</span><span class="o">)</span>
</code></pre></div></div>

<p>This will convert any reference to <code class="language-plaintext highlighter-rouge">Foo</code> to a numeric value in our generated code.</p>

<h2 id="refined-types">Refined types</h2>

<p><a href="https://github.com/fthomas/refined">Refined</a> is a Scala library for refining types with type-level predicates that constrain the set of values described by some underlying type (for example, the set of positive integers, or the set of strings of a certain length). When using Bridges on Refined values, it is very important that the following import from <code class="language-plaintext highlighter-rouge">refined-shapeless</code> is in scope, to avoid compilation errors:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">eu.timepit.refined.shapeless.typeable._</span>
</code></pre></div></div>

<p>For example, given the following refined type <code class="language-plaintext highlighter-rouge">RefinedString</code> we can generate our declaration as follows:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">eu.timepit.refined._</span>
<span class="k">import</span> <span class="nn">eu.timepit.refined.api.Refined</span>
<span class="k">import</span> <span class="nn">eu.timepit.refined.collection.Size</span>
<span class="k">import</span> <span class="nn">eu.timepit.refined.numeric.Interval.ClosedOpen</span>
<span class="k">import</span> <span class="nn">eu.timepit.refined.shapeless.typeable._</span>

<span class="k">type</span> <span class="kt">RefinedString</span> <span class="o">=</span> <span class="nc">String</span> <span class="nc">Refined</span> <span class="nc">Size</span><span class="o">[</span><span class="kt">ClosedOpen</span><span class="o">[</span><span class="kt">W.`</span><span class="err">1</span><span class="kt">`.T</span>, <span class="kt">W.`</span><span class="err">100</span><span class="kt">`.T</span><span class="o">]]</span>

<span class="k">final</span> <span class="k">case</span> <span class="k">class</span> <span class="nc">ClassWithRefinedType</span><span class="o">(</span><span class="n">name</span><span class="k">:</span> <span class="kt">RefinedString</span><span class="o">)</span>

<span class="n">decl</span><span class="o">[</span><span class="kt">ClassWithRefinedType</span><span class="o">]</span> 
<span class="c1">// res0: bridges.typescript.TsDecl = </span>
<span class="c1">// 		DeclF(ClassWithRefinedType,</span>
			<span class="nc">Struct</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="nc">DeclF</span><span class="o">(</span><span class="n">name</span><span class="o">,</span><span class="nc">Str</span><span class="o">))))</span>
</code></pre></div></div>

<p>Note that the type for <code class="language-plaintext highlighter-rouge">RefinedString</code> is <code class="language-plaintext highlighter-rouge">Str</code> when using the intermediate language, we have removed the refinement and preserved the base type.</p>

<h1 id="conclusions">Conclusions</h1>

<p>We have presented <a href="https://github.com/davegurnell/bridges">Bridges</a>, a library to generate front-end code for our apps based on our back-end ADTs. We showed how we use this in to generate valid code for <code class="language-plaintext highlighter-rouge">TypeScript</code> and <code class="language-plaintext highlighter-rouge">Elm</code>, simplifying development and reducing the effort needed to keep both front-end and back-end in sync.</p>

<h1 id="acknowledgements">Acknowledgements</h1>

<p>Bridges is a collaboration between <a href="https://twitter.com/davegurnell">Dave Gurnell</a> and myself inspired by work by <a href="https://github.com/skennedy">Stephen Kennedy</a>. Thanks to <a href="https://twitter.com/milessabin">Miles Sabin</a> for his help solving shapeless-related queries.</p>


        </article>

        <hr>

        
          <div class="row">
  <div class="col-sm-4 col-sm-offset-2">
    <h3 class="text-center">
      Like what you're reading?
    </h3>
    <p class="text-center">
      <a href="/blog/newsletters" class="btn btn-primary">
        Join our newsletter
        <span class="icon-uio-chevron-right "></span>
      </a>
    </p>
  </div>
</div>
        

        <hr>

        <h2 class="comments">Comments</h2>

<p>
  We encourage discussion of our blog posts on our <a href="https://gitter.im/underscoreio/scala">Gitter channel</a>.
  Please review our <a href="/terms#comments">Community Guidelines</a> before posting there.
  We encourage discussion in good faith, but do not allow combative, exclusionary, or harassing behaviour. 
  If you have any questions, <a href="/contact">contact us</a>!
</p>

      </section>
    </div>

    <div class="col-md-4">
      <aside class="blog-sidebar">
        <div id="mc_embed_signup" class="blog-sidebar-mailchimp panel panel-gray">
  <div class="panel-body">
    <h4>The Underscore Newsletter</h4>

    <p>Keep up to date! Subscribe to our newsletter for the latest Scala news.</p>

    <form method="post"
          action="http://underscoreconsulting.us3.list-manage.com/subscribe/post?u=a62dbb8a9c32f6c994dfd1111&amp;id=e9817b5369"
              id="mc-embedded-subscribe-form"
            name="mc-embedded-subscribe-form"
           class="validate"
          target="_blank"
      novalidate="">
      <fieldset>
        <div class="row">
          <div class="col-sm-12">
            <div class="form-group">
              <button class="btn btn-primary" id="mc-embedded-subscribe" type="submit" data-goal="click">Keep me posted</button>
            </div>
          </div>
        </div>
      </fieldset>
    </form>

    <p class="text-muted">
      <small>No spam. Unsubscribe at any time. We do not share personal details with third parties.</small>
    </p>

    <p class="text-muted">
      <small><a href="/blog/newsletters">Browse old newsletters to see what you'll get</a></small>
    </p>
  </div>
</div>
<div class="blog-sidebar-promos">
  <h4>Books from Underscore</h4>

  
  <div class="blog-sidebar-promo essential-scala"
     data-book-id="/books/essential-scala">
  <a class="book-title" href="/books/essential-scala">
    <span class="book-icon icon-uio-scala"></span>
    <span class="book-title-text">
      Essential Scala
    </span>

    <span class="pull-right">
      <span class="hidden-md">Read more</span>
      <span class="icon-uio-chevron-right "></span>
    </span>
  </a>
</div>


  
  <div class="blog-sidebar-promo scala-with-cats"
     data-book-id="/books/scala-with-cats">
  <a class="book-title" href="/books/scala-with-cats">
    <span class="book-icon icon-uio-cats"></span>
    <span class="book-title-text">
      Scala with Cats
    </span>

    <span class="pull-right">
      <span class="hidden-md">Read more</span>
      <span class="icon-uio-chevron-right "></span>
    </span>
  </a>
</div>


  
  <div class="blog-sidebar-promo essential-slick"
     data-book-id="/books/essential-slick">
  <a class="book-title" href="/books/essential-slick">
    <span class="book-icon icon-uio-scala"></span>
    <span class="book-title-text">
      Essential Slick
    </span>

    <span class="pull-right">
      <span class="hidden-md">Read more</span>
      <span class="icon-uio-chevron-right "></span>
    </span>
  </a>
</div>


  
  <div class="blog-sidebar-promo shapeless-guide"
     data-book-id="/books/shapeless-guide">
  <a class="book-title" href="/books/shapeless-guide">
    <span class="book-icon icon-uio-shapeless"></span>
    <span class="book-title-text">
      The Type Astronaut's Guide to Shapeless
    </span>

    <span class="pull-right">
      <span class="hidden-md">Read more</span>
      <span class="icon-uio-chevron-right "></span>
    </span>
  </a>
</div>

</div>

<aside class="blog-sidebar-archives">
  <h4>Archives</h4>

  <ul class="list-unstyled">
    
      
        <li class="heading">May 2020</li>
      

      <li><a href="/blog/posts/2020/05/27/scala-with-cats-2.html">Scala with Cats 2</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2020/05/14/porting-and-seq.html">Review Seq matching when porting to 2.13</a></li>
    
      
        
        
        
          <li class="heading">Dec 2019</li>
        
      

      <li><a href="/blog/posts/2019/12/23/talks-roundup.html">Our Talks from 2019</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2019/12/12/tut-to-mdoc.html">Tips for moving from tut to mdoc</a></li>
    
      
        
        
        
          <li class="heading">Jul 2019</li>
        
      

      <li><a href="/blog/posts/2019/07/04/introducing-inner-product.html">Introducing Inner Product</a></li>
    
      
        
        
        
          <li class="heading">Dec 2018</li>
        
      

      <li><a href="/blog/posts/2018/12/21/talks-roundup.html">Our Talks from 2018</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2018/12/12/bridges.html">Bridging Scala and the Front-End</a></li>
    
      
        
        
        
          <li class="heading">May 2018</li>
        
      

      <li><a href="/blog/posts/2018/05/17/modelling-js.html">Modelling JavaScript in Scala with Scala.js</a></li>
    
      
        
        
        
          <li class="heading">Mar 2018</li>
        
      

      <li><a href="/blog/posts/2018/03/20/fs2.html">Tips for working with FS2</a></li>
    
      
        
        
        
          <li class="heading">Dec 2017</li>
        
      

      <li><a href="/blog/posts/2017/12/14/scorex.html">A look at Scorex: a Scala blockchain framework</a></li>
    
      
        
        
        
          <li class="heading">Nov 2017</li>
        
      

      <li><a href="/blog/posts/2017/11/22/scala-with-cats.html">Announcing Scala with Cats</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2017/11/20/newsletter17.html">Newsletter 17: Season for Giving Edition</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2017/11/20/talks-from-team-underscore-at-scalax.html">Talks from Team Underscore at Scala Exchange</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2017/11/15/talks-to-watch-out-for-at-scalax.html">Talks to Watch Out For at Scala Exchange</a></li>
    
      
        
        
        
          <li class="heading">Sep 2017</li>
        
      

      <li><a href="/blog/posts/2017/09/05/review.html">Getting Into Other People's Code</a></li>
    
      
        
        
        
          <li class="heading">Jun 2017</li>
        
      

      <li><a href="/blog/posts/2017/06/02/uniting-church-and-state.html">Uniting Church and State: FP and OO Together</a></li>
    
      
        
        
        
          <li class="heading">May 2017</li>
        
      

      <li><a href="/blog/posts/2017/05/31/newsletter16.html">Newsletter 16: It's Book Time!</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2017/05/29/why-we-open-sourced-our-books.html">Why We Open Sourced our Books</a></li>
    
      
        
        
        
          <li class="heading">Apr 2017</li>
        
      

      <li><a href="/blog/posts/2017/04/11/type-tetris.html">Playing "Type Tetris"
</a></li>
    
      
        
        
        
          <li class="heading">Mar 2017</li>
        
      

      <li><a href="/blog/posts/2017/03/29/free-inject.html">The Free Monad with Multiple Algebras</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2017/03/07/refined-data-config-database.html">Refining your data from configuration to database</a></li>
    
      
        
        
        
          <li class="heading">Jan 2017</li>
        
      

      <li><a href="/blog/posts/2017/01/24/finch-functional-web-development.html">Finch: Functional Web Development</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2017/01/17/newsletter15.html">Newsletter 15: New Events in the New Year</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2017/01/17/agile-awards.html">Barclays Agile Awards 2016</a></li>
    
      
        
        
        
          <li class="heading">Dec 2016</li>
        
      

      <li><a href="/blog/posts/2016/12/16/newsletter14.html">Newsletter 14: Closing the Book on 2016</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2016/12/05/type-lambdas.html">Type lambdas and kind projector</a></li>
    
      
        
        
        
          <li class="heading">Nov 2016</li>
        
      

      <li><a href="/blog/posts/2016/11/24/value-discard.html">Value Discarding</a></li>
    
      
        
        
        
          <li class="heading">Oct 2016</li>
        
      

      <li><a href="/blog/posts/2016/10/11/twenty-two.html">Scala and 22</a></li>
    
      
        
        
        
          <li class="heading">Jul 2016</li>
        
      

      <li><a href="/blog/posts/2016/07/20/speaking-at-scalax.html">Giving a First Talk</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2016/07/20/new-speakers-at-scala-exchange-2016.html">How You Can Help Bring New Speakers and New Ideas to Scala eXchange 2016</a></li>
    
      
        
        
        
          <li class="heading">Jun 2016</li>
        
      

      <li><a href="/blog/posts/2016/06/27/opaque-transparent-interpreters.html">Opaque and Transparent Interpreters</a></li>
    
      
        
        
        
          <li class="heading">Apr 2016</li>
        
      

      <li><a href="/blog/posts/2016/04/21/probabilistic-programming.html">Probabilistic Programming in Scala</a></li>
    
      
        
        
        
          <li class="heading">Mar 2016</li>
        
      

      <li><a href="/blog/posts/2016/03/21/serverless-scale-summit.html">Scala.js is Important for Cloud Services</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2016/03/08/qcon.html">Types Working For You, Not Against You</a></li>
    
      
        
        
        
          <li class="heading">Feb 2016</li>
        
      

      <li><a href="/blog/posts/2016/02/02/advanced-scala-scalaz-to-cats.html">Advanced Scala Scalaz to Cats</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2016/02/01/aws-lambda.html">Scala and AWS Lambda Blueprints</a></li>
    
      
        
        
        
          <li class="heading">Jan 2016</li>
        
      

      <li><a href="/blog/posts/2016/01/19/typelevel-summits.html">Typelevel Summits</a></li>
    
      
        
        
        
          <li class="heading">Dec 2015</li>
        
      

      <li><a href="/blog/posts/2015/12/22/newsletter13.html">Newsletter 13: Christmas Loot Edition</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/12/21/scalax-slick-workshop.html">Video from the Slick Workshop at Scala Exchange 2015</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/12/21/scalax-interpreters-workshop.html">Slides and Code from the Interpreters Workshop at Scala Exchange 2015</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/12/18/tut.html">tut</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/12/18/scala-exchange-highlights.html">Highlights from Scala Exchange 2015</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/12/01/newsletter12.html">Newsletter 12: Scala Exchange</a></li>
    
      
        
        
        
          <li class="heading">Nov 2015</li>
        
      

      <li><a href="/blog/posts/2015/11/19/essential-slick-review-copies.html">Essential Slick Feature Complete and Review Copies Available</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/11/17/why-3x5-is-and-isnt-5x3.html">Why 3&times;5 is and isn't 5&times;3</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/11/09/sbt-commands.html">SBT Tricks</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/11/04/late-binding-and-overloading.html">Late Binding and Overloading in Scala</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/11/03/atom.html">Using the Atom Editor with Scala</a></li>
    
      
        
        
        
          <li class="heading">Oct 2015</li>
        
      

      <li><a href="/blog/posts/2015/10/14/reification.html">Reification, Kleislis, and Stream Libraries</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/10/01/newsletter11.html">Newsletter 11: Books and Boxes</a></li>
    
      
        
        
        
          <li class="heading">Sep 2015</li>
        
      

      <li><a href="/blog/posts/2015/09/16/book-update.html">Updates on the Underscore Books</a></li>
    
      
        
        
        
          <li class="heading">Aug 2015</li>
        
      

      <li><a href="/blog/posts/2015/08/28/essential-slick.html">Essential Slick Updates</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/08/23/slick-getresults.html">Using slickless with Plain SQL</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/08/08/slickless.html">Using shapeless HLists with Slick 3</a></li>
    
      
        
        
        
          <li class="heading">Jul 2015</li>
        
      

      <li><a href="/blog/posts/2015/07/24/diversity.html">You Can Increase Diversity at Scala eXchange</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/07/21/simple-isnt-easy.html">Simple Isn't Easy</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/07/14/upsert.html">Upsert in Slick 3</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/07/03/newsletter10.html">Newsletter 10: Conferences, Cats, and Robots from the Future</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/07/02/annihilators-in-scala.html">Annihilators in Scala: An Example of Type Class Design</a></li>
    
      
        
        
        
          <li class="heading">Jun 2015</li>
        
      

      <li><a href="/blog/posts/2015/06/25/keeping-scala-simple.html">Keeping Scala Simple</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/06/10/scalajs-scaladays.html">Towards Browser and Server Utopia with Scala.js</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/06/10/an-introduction-to-cats.html">An Introduction to Cats</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/06/05/new-speakers-at-scala-exchange-2015.html">New Speakers at Scala Exchange 2015</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/06/04/newsletter9.html">Newsletter 9: Scala Jobs, Slick, Sealed Traits, Strata, and Scala Days</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/06/04/more-on-sealed.html">More on Sealed Traits in Scala</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/06/02/everything-about-sealed.html">Everything You Ever Wanted to Know About Sealed Traits in Scala</a></li>
    
      
        
        
        
          <li class="heading">May 2015</li>
        
      

      <li><a href="/blog/posts/2015/05/28/typechecking-sql.html">Typechecking SQL in Slick and doobie</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/05/15/slick-enrichment.html">Slick Query Enrichment</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/05/14/strata-hadoop-world.html">Strata + Hadoop World London 2015 In Review</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/05/06/essential-slick.html">Introducing Essential Slick</a></li>
    
      
        
        
        
          <li class="heading">Apr 2015</li>
        
      

      <li><a href="/blog/posts/2015/04/30/newsletter8.html">Newsletter 8: Free Monads and Free Courses</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/04/28/monadic-io-laziness-makes-you-free.html">Monadic IO: Laziness Makes You Free</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/04/24/distributed-teams.html">Practices for Distributed Scala Teams</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/04/23/deriving-the-free-monad.html">Deriving the Free Monad</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/04/14/free-monads-are-simple.html">Free Monads Are Simple</a></li>
    
      
        
        
        
          <li class="heading">Mar 2015</li>
        
      

      <li><a href="/blog/posts/2015/03/13/rxlift.html">RxLift: Reactive Web Components with LiftWeb and RxScala</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/03/05/newsletter7.html">Newsletter 7: Error Handling and Two New Books</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/03/05/compositional-music-composition.html">Compositional Music Composition</a></li>
    
      
        
        
        
          <li class="heading">Feb 2015</li>
        
      

      <li><a href="/blog/posts/2015/02/25/creative-scala-released.html">Creative Scala: A New Introduction to Scala</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/02/23/designing-fail-fast-error-handling.html">Designing Fail-Fast Error Handling</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/02/13/error-handling-without-throwing-your-hands-up.html">Error Handling Without Throwing Your Hands Up</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/02/09/newsletter6.html">Newsletter 6: Training and Diversity Online and Worldwide</a></li>
    
      
        
        
        
          <li class="heading">Jan 2015</li>
        
      

      <li><a href="/blog/posts/2015/01/29/rethinking-online-training.html">Rethinking Online Training</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/01/29/diversity-in-training.html">Diversity in Training</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/01/16/lift-26-release.html">Highlights of the Lift Web Framework 2.6 Release</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/01/14/new-speakers-at-scala-exchange.html">Roundup of the New Speakers at Scala Exchange</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2015/01/05/codereview.html">Code Review at Scala eXchange</a></li>
    
      
        
        
        
          <li class="heading">Dec 2014</li>
        
      

      <li><a href="/blog/posts/2014/12/16/essential-scala-and-play-books-available-for-early-access.html">Essential Scala and Play Books Available for Early Access</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2014/12/05/newsletter5.html">Newsletter 5: Xmas Reading</a></li>
    
      
        
        
        
          <li class="heading">Oct 2014</li>
        
      

      <li><a href="/blog/posts/2014/10/20/newsletter4.html">Newsletter 4</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2014/10/20/essential-esential-scala-at-hack-the-tower.html">Essential Essential Scala at Hack the Tower</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2014/10/17/new-speakers-at-scala-exchange.html">New Speakers at Scala Exchange</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2014/10/02/learn-shapeless-find-500-dollars.html">Learn Shapeless, Find $500</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2014/10/01/intro-functional-finance.html">Introducing Functional Finance</a></li>
    
      
        
        
        
          <li class="heading">Sep 2014</li>
        
      

      <li><a href="/blog/posts/2014/09/16/response-to-the-typelevel-fork.html">Our Response to the Typelevel fork of Scala</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2014/09/03/enumerations.html">Scala Enumerations</a></li>
    
      
        
        
        
          <li class="heading">Aug 2014</li>
        
      

      <li><a href="/blog/posts/2014/08/28/tools-to-guide-code-quality.html">Tools to guide code quality</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2014/08/17/angularjs-vs-react.html">AngularJs vs React</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2014/08/07/newsletter3.html">Newsletter 3</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2014/08/07/scala-exchange-nsap-last-call.html">Scala Exchange New Speaker Programme Closing Soon</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2014/08/05/code-reviews-dont-produce-quality-code.html">Code Reviews Don't Produce Quality Code</a></li>
    
      
        
        
        
          <li class="heading">Jul 2014</li>
        
      

      <li><a href="/blog/posts/2014/07/27/readerwriterstate.html">A Small (Real) Example of the Reader and Writer Monads</a></li>
    
      
        
        
        
          <li class="heading">Jun 2014</li>
        
      

      <li><a href="/blog/posts/2014/06/30/underscores-new-speaker-program.html">Underscore's New Speaker Program for Scala Exchange</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2014/06/24/scala-days-2014-the-lowdown.html">Scala Days 2014: The Low-down</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2014/06/21/announcing-underscoreio.html">Announcing underscore.io</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2014/06/05/lambda.html">Java 8 Crib Sheet for Scala Developers</a></li>
    
      
        
        
        
          <li class="heading">May 2014</li>
        
      

      <li><a href="/blog/posts/2014/05/02/hiring-scala-developers.html">Hiring Scala Developers</a></li>
    
      
        
        
        
          <li class="heading">Apr 2014</li>
        
      

      <li><a href="/blog/posts/2014/04/30/newsletter2.html">Newsletter 2</a></li>
    
      
        
        
        
          <li class="heading">Mar 2014</li>
        
      

      <li><a href="/blog/posts/2014/03/18/newsletter1.html">Newsletter 1</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2014/03/10/teaching-scala.html">Teaching Scala</a></li>
    
      
        
        
        
          <li class="heading">Jan 2014</li>
        
      

      <li><a href="/blog/posts/2014/01/29/unboxed-tagged-angst.html">Unboxed Tagged Angst</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2014/01/06/crdt.html">Collaborative Text Editing</a></li>
    
      
        
        
        
          <li class="heading">Dec 2013</li>
        
      

      <li><a href="/blog/posts/2013/12/20/scalaz-monad-transformers.html">Scalaz Monad Transformers</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2013/12/20/crdts-for-fun-and-eventual-profit.html">CRDTs for fun and eventual profit</a></li>
    
      
        
        
        
          <li class="heading">Oct 2013</li>
        
      

      <li><a href="/blog/posts/2013/10/01/functional-media-roundup-quality-counts.html">Functional Media Roundup: Quality Counts</a></li>
    
      
        
        
        
          <li class="heading">Aug 2013</li>
        
      

      <li><a href="/blog/posts/2013/08/01/lift.html">Lift Cookbook</a></li>
    
      
        
        
        
          <li class="heading">Jul 2013</li>
        
      

      <li><a href="/blog/posts/2013/07/09/media-panel.html">Functional Programming in Media and Publishing</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2013/07/03/cloudbees.html">CloudBees Service Partner</a></li>
    
      
        
        
        
          <li class="heading">Mar 2013</li>
        
      

      <li><a href="/blog/posts/2013/03/13/streaming-algorithms-preregister.html">Pre-register for Streaming Algorithms Course</a></li>
    
      
        
        
        
          <li class="heading">Oct 2012</li>
        
      

      <li><a href="/blog/posts/2012/10/16/a-tribute-to-phil-bagwell.html">A Tribute to Phil Bagwell</a></li>
    
      
        
        
        
          <li class="heading">Aug 2012</li>
        
      

      <li><a href="/blog/posts/2012/08/01/developer-price.html">Misconceptions about Scala Developer Rates</a></li>
    
      
        
        
        
          <li class="heading">Jul 2012</li>
        
      

      <li><a href="/blog/posts/2012/07/09/another-typeclass.html">Another Small Example of the Type Class Pattern</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2012/07/06/icml-review.html">Review of COLT and ICML</a></li>
    
      
        
        
        
      

      <li><a href="/blog/posts/2012/07/02/kleisli-arrows.html">A Small Example of Kleisli Arrows</a></li>
    
      
        
        
        
          <li class="heading">Jun 2012</li>
        
      

      <li><a href="/blog/posts/2012/06/16/phantom-types.html">A Small Example of Phantom Types</a></li>
    
      
        
        
        
          <li class="heading">May 2012</li>
        
      

      <li><a href="/blog/posts/2012/05/03/typeclasses.html">A Small Example of the Typeclass Pattern</a></li>
    
  </ul>
</aside>

      </aside>
    </div>
  </div>
</section>

<footer>
  <div class="container">
    <div class="text-center">
      <img src="/images/common/footer-brand.png" class="footer-brand" alt="Underscore">
    </div>

    <div class="row sitemap">
      <div class="col-sm-6 col-md-4">
        <h5><a href="/">Underscore</a></h5>
        <ul class="list-unstyled">
          <li><a href="/">Home</a></li>
          <li><a href="/consulting">Our Services</a></li>
          <li><a href="/privacy">Privacy Policy</a></li>
          <li class="currency-select">
            Currency:
            <a href="javascript:void(0)" class="currency-select-usd">USD</a>,
            <a href="javascript:void(0)" class="currency-select-gbp">GBP</a>,
            <a href="javascript:void(0)" class="currency-select-eur">EUR</a>
          </li>
        </ul>
      </div>

      <div class="col-sm-6 col-md-4">
        <h5><a href="/training">Courses and Training</a></h5>
        <ul class="list-unstyled">
          <li><a href="/training/bookings">Book a Course</a></li>
          <li><a href="/training">Course Directory</a></li>
          <li><a href="/training/courses/essential-scala">Essential Scala</a></li>
          <li><a href="/training/courses/advanced-scala">Advanced Scala with Cats</a></li>
        </ul>
      </div>

      <div class="col-sm-6 col-md-4">
        <h5><a href="/contact">Contact</a></h5>
        <ul class="list-unstyled">
          <li><a href="/contact">
            <span class="icon-uio-envelope "></span>
            hello@underscore.io
          </a></li>
          <li><a href="http://twitter.com/underscoreio">
            <span class="icon-uio-twitter "></span>
            @underscoreio
          </a></li>
          <li><a href="/blog/newsletters">
            <span class="icon-uio-public "></span>
            The Underscore Newsletter
          </a></li>
        </ul>
      </div>
    </div>

    <p class="copyright text-center">
      Copyright 2011&ndash;22.
      <br class="visible-xs">
      All rights reserved. <a href="/terms">Terms of use</a>
    </p>
  </div>
</footer>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-29444727-2', 'underscore.io');
      ga('send', 'pageview');
    </script>
  </body>
</html>
