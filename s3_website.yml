s3_bucket: <%= ENV['S3_BUCKET'] %>
cloudfront_distribution_id: <%= ENV['CLOUDFRONT_DISTRIBUTION_ID'] %>

# Below are examples of all the available configurations.
# See https://github.com/laurilehmijoki/s3_website

# Folder where Jekyll writes the site:
# site: _site

index_document: index.html
# error_document: error.html

max_age:
  "css/*": 6000
  "js/*": 6000
  "fonts/*": 6000
  "images/common/*": 6000
  "images/customers/*": 6000
  "images/home/*": 6000
  "images/common/*": 6000

# Cloudfront now supports GZIP natively, so enable it there
# Feature requested: https://github.com/laurilehmijoki/s3_website/issues/205

# gzip:
#   - .html
#   - .css
#   - .md
# gzip_zopfli: true

# See http://docs.aws.amazon.com/general/latest/gr/rande.html#s3_region for valid endpoints
# s3_endpoint: ap-northeast-1

# ignore_on_server: that_folder_of_stuff_i_dont_keep_locally

# exclude_from_upload:
#   - those_folders_of_stuff
#   - i_wouldnt_want_to_upload

# s3_reduced_redundancy: true

# cloudfront_distribution_id: your-dist-id

# cloudfront_distribution_config:
#   default_cache_behavior:
#     min_TTL: <%= 60 * 60 * 24 %>
#   aliases:
#     quantity: 1
#     items:
#       CNAME: your.website.com

# cloudfront_invalidate_root: true

cloudfront_wildcard_invalidation: true

# concurrency_level: 5

redirects:
  "blog/newsletter"                                    : "/blog/newsletters/"

  # Redirects from Essential Essential Scala to Creative Scala:

  "events/2015-03-15-essential-essential-scala.html"   : "/events/2015-03-15-creative-scala.html"
  "events/2015-03-28-essential-essential-scala.html"   : "/events/2015-03-28-creative-scala.html"

  # Redirects from Essential Scalaz and Advanced Scala with Scalaz to Scala with Cats:

  "books/essential-scalaz"                             : "/books/scala-with-cats"
  "books/essential-scalaz/index.html"                  : "/books/scala-with-cats"
  "books/advanced-scala"                               : "/books/scala-with-cats"
  "books/advanced-scala/index.html"                    : "/books/scala-with-cats"
  "books/advanced-scala-scalaz"                        : "/books/scala-with-cats"
  "books/advanced-scala-scalaz/index.html"             : "/books/scala-with-cats"
  "training/courses/essential-scalaz"                  : "/training/courses/advanced-scala"
  "training/courses/advanced-scala-scalaz"             : "/training/courses/advanced-scala"
  "courses/essential-shapeless"                        : "/training/courses/advanced-shapeless"

  # Redirects from mis-dated blog posts:

  "blog/posts/2015/03/25/creative-scala-released.html" : "/blog/posts/2015/02/25/creative-scala-released.html"

  # Redirects from underscore.io version 1:

  "courses/essential-java8.html"                       : "/training"
  "courses/essential-shapeless.html"                   : "/training/courses/advanced-shapeless"
  "courses/essential-play-sites.html"                  : "/training/courses/essential-play"
  "courses/essential-scalaz.html"                      : "/training/courses/advanced-scala"
  "courses/essential-scala.html"                       : "/training/courses/essential-scala"
  "courses/essential-macros.html"                      : "/training/courses"
  "courses/essential-distributed-systems.html"         : "/training/courses/essential-distributed-systems"
  "courses/essential-lift.html"                        : "/training/courses"
  "courses/essential-play-services.html"               : "/training/courses/essential-play"
  "courses"                                            : "/training"
  "enquiries.html"                                     : "/training/bookings"
  "newsletter.html"                                    : "/blog/newsletters"
  "contact.html"                                       : "/contact"

  # Redirects from preview versions of underscore.io version 2:

  "training/booking.html"                              : "/training/bookings"
  "training/booknow"                                   : "/training/bookings"

  # Course feedback:

  "training/feedback"                                  : "https://docs.google.com/forms/d/1Vu2EKG6YonpopRYh98Lubky0RKjKKtsCm8m8QwVwx6g/viewform"

# routing_rules:
#   - condition:
#       key_prefix_equals: blog/some_path
#     redirect:
#       host_name: blog.example.com
#       replace_key_prefix_with: some_new_path/
#       http_redirect_code: 301
