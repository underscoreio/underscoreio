---
title: Contact
layout: default
navbar: company
---

{% raw %}
<?php

/*
>
<h1>This page contains PHP code.<br>It will not render correctly via Jekyll.</h1>
<h2>Deploy the site to a staging environment to preview this page.</h2>
*/

// CONFIGURATION --------------------------------

$contactEmail = 'Underscore General Enquiries <hello@underscore.io>';

// ----------------------------------------------

function requestString($key, $default) {
  if(isset($_POST[$key]) && strlen(trim($_POST[$key])) > 0) {
    return trim($_POST[$key]);
  } else {
    return $default;
  }
}

function requestLookup($key, $options, $default) {
  if(isset($_POST[$key]) && isset($options[$_POST[$key]])) {
    return $options[$_POST[$key]];
  } else {
    return $default;
  }
}

if($_SERVER['REQUEST_METHOD'] == 'POST'):
  $name     = requestString('name', 'Not specified');
  $email    = requestString('email', null);
  $phone    = requestString('phone', 'Not specified');
  $subject  = requestString('subject', 'No subject');
  $message  = requestString('message', 'None specified');

  $emailTo      = $contactEmail;
  $emailSubject = "Contact on underscore.io: $subject";
  $emailDate    = gmdate(DATE_RFC822);

  $emailBody    = <<<ENDEMAIL
Name: $name
Email: $email
Phone: $phone

$message
ENDEMAIL;

  $emailLength  = strlen($emailBody);
  $emailExtras  = "From: $name <$email>\r\nDate: $emailDate\r\nContent-Length: $emailLength";

  if(!$email):
    echo '<div class="alert alert-danger">Please specify a valid email address.</div>';
  elseif(mail($emailTo, $emailSubject, $emailBody, $emailExtras)):
    echo '<div class="alert alert-success">Thank you for your message. We will be in touch shortly.</div>';
  else:
    echo '<div class="alert alert-danger">There was an error submitting your message. Please get in touch by phone or email.</div>';
  endif;
endif;

// ----------------------------------------------

?>
{% endraw %}

{% include hero.html title="Contact us" %}

<section class="container">
  <article>
    <div class="row">
      <div class="col-sm-8 col-sm-offset-2">
        <p>Use the form below to send us a message, or email us at <a href="mailto:hello@underscore.io">hello@underscore.io</a>, or phone us on <a href="tel:+442030955332">+44 (0)20 309 55332</a>:</p>

        <form id="contact-form" method="post">
          <div class="form-group">
            <label>Your name</label>
            <input type="text" class="form-control" name="name" placeholder="Leonardo da Vinci">
          </div>

          <div class="form-group">
            <label>Your email address</label>
            <input type="email" class="form-control" name="email" placeholder="leonardo@davinci.com">
          </div>

          <div class="form-group">
            <label>Your phone number (optional)</label>
            <input type="phone" class="form-control" name="phone" placeholder="+44 123 456 7890">
          </div>

          <div class="form-group">
            <label>Subject line</label>

            <input type="text" class="form-control" name="subject">
          </div>

          <div class="form-group">
            <label>Your message</label>

            <textarea class="form-control" name="message" rows="10"></textarea>
          </div>

          <button type="submit" class="btn btn-success">Send Message</button>
        </form>
      </div>
    </div>
  </article>
</section>

<script>
  window.uio.contactForm.init("#contact-form")
</script>

{% include footer.html %}
